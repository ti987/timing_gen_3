<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0046)https://isogai.us/timing-gen/doc/Tutorial.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="AsciiDoc 8.5.2">
<title>Timing-gen Tutorial</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}


@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(5);}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body>
<div id="header">
<h1>Timing-gen Tutorial</h1>
<span id="author">Toshi Isogai</span><br>
<span id="revdate">v0.9.1</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
<div class="toclevel1"><a href="https://isogai.us/timing-gen/doc/Tutorial.html#_clock">1. Clock</a></div><div class="toclevel1"><a href="https://isogai.us/timing-gen/doc/Tutorial.html#_counter">2. Counter</a></div><div class="toclevel1"><a href="https://isogai.us/timing-gen/doc/Tutorial.html#_signal">3. Signal</a></div><div class="toclevel1"><a href="https://isogai.us/timing-gen/doc/Tutorial.html#_slew">4. Slew</a></div><div class="toclevel1"><a href="https://isogai.us/timing-gen/doc/Tutorial.html#_measure">5. Measure</a></div><div class="toclevel1"><a href="https://isogai.us/timing-gen/doc/Tutorial.html#_arrow">6. Arrow</a></div></div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This document is a user guide for quick start. With a few examples listed, the
user will be familiar with this timing diagram generator tool, timing-gen.</p></div>
</div>
</div>
<h2 id="_clock">1. Clock</h2>
<div class="sectionbody">
<div class="paragraph"><p>A clock is a good place to start.
Here is a "hello World!" type diagram.</p></div>
<div class="imageblock" id="tutorial-1_image">
<div class="content">
<img src="./Timing-gen Tutorial_files/tutorial-1.png" alt="../samples/tutorial-1.png">
</div>
<div class="image-title">Figure 1: tutorial-1</div>
</div>
<div class="paragraph"><p>Here is the input file.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>@Waves =
  (
   {type  =&gt; clock,
    name  =&gt; clk
   }
  );

1;</tt></pre>
</div></div>
<div class="paragraph"><p>Timing-gen generates 10 cycles in 6.5 inch span as its default.
A clock is specified by setting  <strong>type</strong> parameter to <strong>clock</strong> in <strong>@Waves</strong> variable.
You specify The signal name with <strong>name</strong> parameter. You can use just about any
printable characters if you quote the name value.</p></div>
<div class="paragraph"><p>The last line "1;" is something you have to have in every timing-gen input file.</p></div>
</div>
<h2 id="_counter">2. Counter</h2>
<div class="sectionbody">
<div class="paragraph"><p>Let’s add more cycles by adding
<strong>%Conf</strong> variable. Also we will add a cycle counter and cycle bars to make the diagram easy to read.</p></div>
<div class="imageblock" id="tutorial-2_image">
<div class="content">
<img src="./Timing-gen Tutorial_files/tutorial-2.png" alt="../samples/tutorial-2.png">
</div>
<div class="image-title">Figure 2: tutorial-2</div>
</div>
<div class="paragraph"><p>Here is the input file.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>%Conf =
  (
   cycles =&gt; 20,
  );


@Waves =
  (
   {type  =&gt; counter
   },

   {type  =&gt; clock,
    name  =&gt; clk
   },

   {type  =&gt; bar,
   }
  );

1;</tt></pre>
</div></div>
<div class="paragraph"><p>The number of total cycles is specified with <strong>cycles</strong> parameter in <strong>%Conf</strong> variable. <strong>%Conf</strong> is
where you specify global configuration.
Notice that timing-gen generates the output in the same width as before. It calculates width
of each cycle from the drawing width and the number of cycles.</p></div>
<div class="paragraph"><p>The <strong>bar</strong> type adds cycle bar or cycle divider with dashed lines.</p></div>
</div>
<h2 id="_signal">3. Signal</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can add a single bit signal by setting <strong>type</strong> parameter to  <strong>bit</strong>.
You can also add a multi-bit signal by setting <strong>type</strong> parameter to  <strong>bus</strong>.
One of the differences between <strong>bit</strong> and <strong>bus</strong> is that a bit can only show high and low state in the diagram
while a bus can show a value.</p></div>
<div class="imageblock" id="tutorial-4_image">
<div class="content">
<img src="./Timing-gen Tutorial_files/tutorial-4.png" alt="../samples/tutorial-4.png">
</div>
<div class="image-title">Figure 3: tutorial-4</div>
</div>
<div class="paragraph"><p>A parameter called <strong>change</strong> is defined in all <strong>bit</strong> and <strong>bus</strong> signals. This specifies cycles and values
of value changes in pairs. The first number of a pair is the cycle number that the signal changes the
value to the second number.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>%Conf =
  (
   cycles =&gt; 20,
  );


@Waves =
  (

   {type  =&gt; counter
   },

   {type  =&gt; clock,
    name  =&gt; clk
   },

   {type  =&gt; bit,
    name  =&gt; 'cs#',
    change =&gt; [ [0,1], [2,0], [8,1],  [11,0], [17,1] ],
   },

   {type  =&gt; bus,
    name  =&gt; 'data',
    change =&gt; [ [0,'-'], [3,'data0'], [8,'Z'],  [12,'data1'], [17,'Z']],
   },

   {type  =&gt; bit,
    name  =&gt; 'oe#',
    change =&gt; [ [0,'X'], [3,0], [5,1], [8, 'Z'],  [12,0], [14,1], [16,'-'] ],
   },

   {type  =&gt; bar,
   }
  );

1;</tt></pre>
</div></div>
<div class="paragraph"><p>As you may have guessed already, you specify the signals in the sequence
you want them to show up.</p></div>
<div class="paragraph"><p><em>X</em> or <em>U</em> (undefined) show up a cross pattern. <em>-</em> (dontcare) shows up a diagonal pattern.</p></div>
</div>
<h2 id="_slew">4. Slew</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can change slew rate with <strong>slew</strong> parameter in <strong>%Conf</strong>. When the value is larger, the signal
changes slower. 0 means that the signal changes instantly.</p></div>
<div class="paragraph"><p>Note that <strong>slew</strong> is one of configuration keys that the value is not based on a percentage of
cycle period (such as <strong>delay</strong>) but a fixed size. This is to keep the same angle regardless
of the total number of cycles.</p></div>
<div class="imageblock" id="tutorial-5_image">
<div class="content">
<img src="./Timing-gen Tutorial_files/tutorial-5.png" alt="../samples/tutorial-5.png">
</div>
<div class="image-title">Figure 4: tutorial-5</div>
</div>
<div class="listingblock">
<div class="content">
<pre><tt>%Conf =
  (
   cycles =&gt; 20,
   delay  =&gt; 0.1,
   slew   =&gt; 3,
   slew_offset   =&gt; 1,
  );


@Waves =
  (

   {type  =&gt; counter
   },

   {type  =&gt; clock,
    name  =&gt; clk
   },

   {type  =&gt; bit,
    name  =&gt; 'cs#',
    change =&gt; [ [0,1], [2,0], [8,1],  [11,0], [17,1] ],
   },

   {type  =&gt; bit,
    name  =&gt; 'oe#',
    change =&gt; [ [0,1], [3,0], [8,1],  [12,0], [17,1] ],
   },

   {type  =&gt; bus,
    name  =&gt; 'data',
    change =&gt; [ [0,'X'], [3,'data0',{fill_color=&gt;3}], [8,'Z'],  [12,'data1',{fill_color=&gt;2}], [17,'Z'] ],
   },

   {type  =&gt; bar,
    conf  =&gt; {color=&gt;1},
   }
  );

1;</tt></pre>
</div></div>
<div class="paragraph"><p>A little bit of colors won’t hurt. (A lot of color can!) In the <strong>bar</strong>, <strong>color</strong> is set in <strong>conf</strong> parameter.
<strong>color</strong> configuration key specifies the line (outline) color.
In data signal, <strong>fill_color</strong> are set in two different cycle-value pair. <strong>fill_color</strong> key specifies the
color to fill the area. You can specify a signal wide <strong>fill_color</strong>, instead of individual cycles, by
using <strong>conf</strong> parameter, for example, <strong>conf \=\&gt; {fill_color\=\&gt;5}</strong>.</p></div>
<div class="paragraph"><p>&lt;HR&gt;</p></div>
</div>
<h2 id="_measure">5. Measure</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Measure</strong> type is used to specify the span of timing parameters, such as setup time or hold time.</p></div>
<div class="imageblock" id="tutorial-6_image">
<div class="content">
<img src="./Timing-gen Tutorial_files/tutorial-6.png" alt="../samples/tutorial-6.png">
</div>
<div class="image-title">Figure 5: tutorial-6</div>
</div>
<div class="paragraph"><p>The <strong>list</strong> parameter in <strong>measure</strong> can have arbitary number of timing parameter measures. They all
shows up on one row. If you want timing measures on a different row, define another <strong>measure</strong> type.
<strong>measure</strong> type honors the appearance sequece as <strong>bit</strong> and <strong>bus</strong> do. So if you want a maasure above
a signal, define the measure above the signal.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>%Conf =
  (
   cycles =&gt; 20,
   delay  =&gt; 0.1,
   slew   =&gt; 3,
   slew_offset   =&gt; 1,
  );


@Waves =
  (

   {type  =&gt; counter
   },

   {type  =&gt; clock,
    name  =&gt; clk
   },

   {type  =&gt; bit,
    name  =&gt; 'cs#',
    change =&gt; [ [0,1], [2,0], [8,1],  [11,0], [17,1] ],
   },

   {type  =&gt; bit,
    name  =&gt; 'oe#',
    change =&gt; [ [0,1], [3,0], [8,1],  [12,0], [17,1] ],
   },

   {type  =&gt; blank,
   },

   {type  =&gt; bus,
    name  =&gt; 'data',
    change =&gt; [ [0,'X'],  [3, 'data0',{fill_color =&gt;3}],
                [8,'Z'],  [12,'data1',{fill_color =&gt;13}],
                [17,'Z'] ],
   },

   # block title
   {type  =&gt; blank,
    name  =&gt; 'cpu_block',
   },
   {type   =&gt; text,
    conf   =&gt; {font_size=&gt;14, justify=&gt;0, text_y=&gt;0.3},
    point  =&gt; [cpu_block, 0],
    text   =&gt; 'CPU',
   },

   # measure
   {type  =&gt; measure,
    list  =&gt; {'setup' =&gt; [ [clk,7], [cpu_d0] ],
              'max prop delay' =&gt; [ [data,12], [cpu_d1] ],
             },
   },

   {type  =&gt; bus,
    name  =&gt; 'data at CPU',
    change =&gt; [ [0,'Z'],
                [5, 'data0',{delay=&gt;0.5, id=&gt;cpu_d0}],
                [7, 'Z',    {delay=&gt;0.3, id=&gt;cpu_d0e}],
                [14,'data1',{delay=&gt;0.5, id=&gt;cpu_d1}],
                [16,'Z',    {delay=&gt;0.3}] ],
   },

   {type  =&gt; measure,
    list  =&gt; {'hold'  =&gt; [ [clk,7], [cpu_d0e] ],
             },
   },

   # vertical bars
   {type  =&gt; bar,
    conf  =&gt; {color=&gt;44},
    point =&gt; [0..19],
   }
  );

1;</tt></pre>
</div></div>
<div class="paragraph"><p>In cycle 5 of <em>data at CPU</em>, there are <strong>delay</strong> and <strong>id</strong> configuration keys.
<strong>delay</strong> adds signal delay from clock edge. You can specify this key in
<strong>conf</strong> parameter if you want signal common delay. You can specify the key
in <strong>%Conf</strong> variable as a global configuration to have all signals delayed.</p></div>
<div class="paragraph"><p>A global configuration can be overridden by a signal <strong>conf</strong> parameter,
which can be overriden by a cycle configuration key. This hiearchical
configuration system gives you the maximum flexibiity without being
verbose.</p></div>
<div class="paragraph"><p>Configuration key <strong>id</strong> is anothe handy feature. It names that the particular signal
and the cycle. Then the name (ID) can be used in <strong>measure</strong> and <strong>arrow</strong>.
This is helpful when you add or delete some cycles. The IDs stays where it is defined so
you don’t have to change all <strong>measures</strong> and <strong>arrows</strong>. Just like a signal name,
ID value can be just about any printable characters including spaces if you quote them.</p></div>
</div>
<h2 id="_arrow">6. Arrow</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Arrow</strong> type is used to show cause-and-effect relationships, such as request-and-acknowledge or output_enable-to-data_output.</p></div>
<div class="imageblock" id="tutorial-7_image">
<div class="content">
<img src="./Timing-gen Tutorial_files/tutorial-7.png" alt="../samples/tutorial-7.png">
</div>
<div class="image-title">Figure 6: tutorial-7</div>
</div>
<div class="paragraph"><p>An arrow is added in this example, from oe# cycle 13 to data 14, to show that oe# is gating data bus (with some delay).</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>%Conf =
  (
   cycles =&gt; 20,
   delay  =&gt; 0.1,
   slew   =&gt; 3,
   slew_offset   =&gt; 1,
  );


@Waves =
  (

   {type   =&gt; blank,
    name   =&gt; title,
   },

   {type   =&gt; text,
    conf   =&gt; {font_size=&gt;14, justify=&gt;0, row_y=&gt;-1},
    point  =&gt; [title, 0],
    text   =&gt; 'Tutorial',

   },

   {type  =&gt; counter
   },

   {type  =&gt; clock,
    name  =&gt; clk
   },

   {type  =&gt; bit,
    name  =&gt; 'cs#',
    change =&gt; [ [0,1], [2,0], [8,1],  [11,0], [17,1] ],
   },

   {type  =&gt; bit,
    name  =&gt; 'oe#',
    change =&gt; [ [0,1], [3,0], [8,1],  [12,0], [17,1] ],
   },

   {type  =&gt; blank,
   },

   {type  =&gt; bus,
    name  =&gt; 'data',
    change =&gt; [ [0,'X'],  [3, 'data0',{fill_color =&gt;3}],
                [8,'Z'],
                [14,'data1',{fill_color =&gt;13, id=&gt; data1_0}],
                [17,'Z'] ],
   },

   # block title
   {type  =&gt; blank,
    name  =&gt; 'cpu_block',
   },
   {type   =&gt; text,
    conf   =&gt; {font_size=&gt;14, justify=&gt;0, text_y=&gt;0.3},
    point  =&gt; [cpu_block, 0],
    text   =&gt; 'CPU',
   },


   {type  =&gt; bus,
    name  =&gt; 'data at CPU',
    change =&gt; [ [0,'Z'],
                [5, 'data0',{delay=&gt;0.5, id=&gt;cpu_d1}],
                [7, 'Z',    {delay=&gt;0.3, id=&gt;cpu_d2}],
                [14,'data1',{delay=&gt;0.5}],
                [16,'Z',    {delay=&gt;0.3}] ],
   },

   # measure
   {type  =&gt; measure,
    list  =&gt; {'setup' =&gt; [ [clk,7], [cpu_d1] ],
             },
   },

   {type  =&gt; measure,
    list  =&gt; {'hold'  =&gt; [ [clk,7], [cpu_d2] ],
             },
   },

   # arrow
   {type  =&gt; arrow,
    name  =&gt; a_1,
    point =&gt; [['oe#', 12], [data1_0]],
   },

   # vertical bars
   {type  =&gt; bar,
    conf  =&gt; {color=&gt;44},
   }
  );

1;</tt></pre>
</div></div>
<div class="paragraph"><p><strong>arrow</strong> type requires a <strong>point</strong> parameter, which specifies its starting
point and ending point.
Starting point and ending point can be specified in 2 ways. One is signal name and cycle
number pair. The starting point of arrow <tt>a_1</tt> is <tt>[<em>oe#</em>, 12]</tt> in the above code.
The other way is an ID. ID is a name that is defined in a signal cycle.
<tt>data1_0</tt> used in arrow <tt>a_1</tt> is defined in signal <tt>data</tt> cycle 14. This method is
preferred because the arrow point will stay with the change event of the signal, even
if you moved the cycle number, or even if you changed signal name.</p></div>
</div>
</div>

<div id="footer">
<div id="footer-text">
Last updated 2011-02-27 16:49:07 MDT
</div>
</div>


</body></html>